(this.webpackJsonpflexstack=this.webpackJsonpflexstack||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),d=n(20),a=n.n(d),c=(n(39),n(33)),r=n(12),s=(n(40),n(41),n(0)),h=n(34),g=function e(t,n){var o=0,i=0;return t.getChildren().forEach((function(d){if(d.getType()===s.TabSetNode.TYPE){var a=function(e,t){var n=0,o=0;if(e.getChildren().forEach((function(e){if(e.getType()!==s.TabNode.TYPE)throw Error("tabset has a child which is not a tab - this is not expected");var t=e;n=Math.max(n,t.getConfig().minHeight),o=Math.max(o,t.getConfig().minWidth)})),t&&(n>0||o>0)&&(e.getMinWidth()!==o||e.getMinHeight()!==n)){var i=s.Actions.updateNodeAttributes(e.getId(),{minWidth:o,minHeight:n});e.getModel().doAction(i)}return{widthNeeded:o,heightNeeded:n}}(d,n);t.getOrientation()===s.Orientation.HORZ?(o+=a.widthNeeded,i=Math.max(i,a.heightNeeded)):(o=Math.max(o,a.widthNeeded),i+=a.heightNeeded)}else if(d.getType()===s.RowNode.TYPE){var c=e(d,n);t.getOrientation()===s.Orientation.HORZ?(c.widthNeeded&&(o+=c.widthNeeded),c.heightNeeded&&(i=Math.max(i,c.heightNeeded))):(c.widthNeeded&&(o=Math.max(o,c.widthNeeded)),c.heightNeeded&&(i+=c.heightNeeded))}})),{widthNeeded:o,heightNeeded:i}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,o=void 0;e.visitNodes((function(e){n||"tabset"!==e.getType().toLowerCase()||(n=e),!o&&"tabset"===e.getType().toLowerCase()&&e.isActive()&&(o=e)}));var i=g(e.getRoot(),t),d={model:e,activeTabset:o,widthNeeded:i.widthNeeded,heightNeeded:i.heightNeeded};return d},f=function(e){var t=e.model.toJson(),n=Object(h.a)({},e);return n.model=s.Model.fromJson(t),n},u=function(e){var t=-1,n=new Map,o=0;if(e.visitNodes((function(e){var i;if("tabset"===e.getType()&&(o++,null===(i=e.getConfig())||void 0===i?void 0:i.panel)){var d=e,a=d.getConfig().panel;n.set(a,d),t=a>t?a:t}})),o<2)return e;if(n.size>0){var i=s.Actions.moveNode(n.get(t).getId(),e.getRoot().getId(),s.DockLocation.BOTTOM,-1,!1);e.doAction(i)}return e},v=function(e,t){var n=-1,o=new Map,i=0;if(e.visitNodes((function(e){var t;if("tabset"===e.getType()&&(i++,null===(t=e.getConfig())||void 0===t?void 0:t.panel)){var d=e,a=d.getConfig().panel;o.set(a,d),n=a>n?a:n}})),n=t||n,i<2)return e;if(o.size>0)o.forEach((function(t,i){if(i>=n){var d=new Map;t.getChildren().forEach((function(e){if("tab"===e.getType()){var t=e;d.set(t,m(t,n-1))}})),d.forEach((function(t,n){var i,d=o.get(t.destMajor);i=d?s.Actions.moveNode(n.getId(),d.getId(),s.DockLocation.CENTER,t.destMinor-1,!!t.destPref&&t.destPref>0):s.Actions.moveNode(n.getId(),e.getRoot().getId(),s.DockLocation.CENTER,-1,!1),e.doAction(i)}));var a=s.Actions.deleteTabset(t.getId());e.doAction(a)}}));else{var d=!1;e.visitNodes((function(t){if(!d&&"tabset"===t.getType()&&!t.isActive()){var n=s.Actions.deleteTabset(t.getId());e.doAction(n),d=!0}}))}return p(e),console.log("done removing tabset"),e},p=function(e){var t=-1,n=new Map;e.visitNodes((function(e){var o;if("tabset"===e.getType()&&(null===(o=e.getConfig())||void 0===o?void 0:o.panel)){var i=e,d=i.getConfig().panel;n.set(d,i),t=d>t?d:t}}));var o=new Map;e.visitNodes((function(e){"tab"===e.getType()&&o.set(e,m(e,t))})),o.forEach((function(o,i){var d;if(0!==o.destMajor){var a=n.get(o.destMajor);console.log("max panel is "+t+" and "+a+" derived from "+o+" for "+i.getName()+" destMahor "+o.destMajor+" in "+n),a&&(d=s.Actions.moveNode(i.getId(),a.getId(),s.DockLocation.CENTER,o.destMinor-1,!!o.destPref&&o.destPref>0),e.doAction(d))}}))},m=function(e){var t,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if((null===(t=e.getConfig())||void 0===t||null===(n=t.panelPreferences)||void 0===n?void 0:n.length)>=i){o=e.getConfig().panelPreferences[i-1];var d=Math.floor(Math.abs(o)),a=Math.round(Math.abs(o)===d?0:10*(Math.abs(o)-d));return{destPref:o,destMajor:d,destMinor:a}}return{destPref:o,destMajor:0,destMinor:-1}},b=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object(o.useState)(n),d=Object(r.a)(i,2),a=d[0],c=d[1];return e((function(){var e=!0,n=window.matchMedia(t),o=function(){e&&c(Boolean(n.matches))};return n.addListener(o),c(n.matches),function(){e=!1,n.removeListener(o)}}),[t]),a}},N=b(o.useEffect),w=(b(o.useLayoutEffect),N),T={global:{rootOrientationVertical:!1,tabSetEnableDivide:!1,enableEdgeDock:!1},layout:{type:"row",weight:100,children:[{type:"tabset",weight:50,selected:0,config:{panel:1},children:[{type:"tab",name:"Comm",component:"text",config:{text:"Comm",minWidth:510,minHeight:350,panelPreferences:[1.1,1.1,1.1,1.1,1.1]}}]},{type:"tabset",weight:50,selected:0,config:{panel:2},children:[{type:"tab",name:"Letter",component:"text",config:{text:"Letter",minWidth:510,minHeight:350,panelPreferences:[-1.3,-1.3,2.1,2.1,2.1]}}]},{type:"tabset",weight:50,selected:0,config:{panel:3},children:[{type:"tab",name:"Claims",component:"text",config:{text:"Claims",minWidth:510,minHeight:350,panelPreferences:[-1.4,-2.2,-3.2,3.1,3.1]}}]},{type:"tabset",weight:50,selected:0,config:{panel:4},children:[{type:"tab",name:"Fig",component:"text",config:{text:"Fig",minWidth:510,minHeight:350,panelPreferences:[-1.2,-1.2,-1.2,-1.2,4.1]}}]},{type:"tabset",weight:50,selected:0,config:{panel:5},children:[{type:"tab",name:"AppAn",component:"text",config:{text:"AppAn",minWidth:510,minHeight:350,panelPreferences:[-1.5,2.1,3.1,4.1,5.1]}}]}]}},j=function(e,t){var n=s.Model.fromJson(T);return t&&(n=e===s.DockLocation.BOTTOM?u(n):v(n,t+1)),l(n,!0)},O=n(3);var x=function(){var e=Object(o.useState)((function(){return[j(s.DockLocation.CENTER)]})),t=Object(r.a)(e,2),n=t[0],i=t[1],d=Object(o.useState)(5),a=Object(r.a)(d,2),h=a[0],g=a[1],p=Object(o.useState)({height:!1,width:!1}),m=Object(r.a)(p,2),b=m[0],N=m[1],T=Object(o.useState)("Z"),x=Object(r.a)(T,2),M=x[0],E=(x[1],Object(o.useRef)(null)),y=n[n.length-1],C=function(e){i(e)},A=function(e){var t=f(y),o=t.widthNeeded,i=Object(c.a)(n);do{var d=void 0;d=e===s.DockLocation.BOTTOM?u(t.model):v(t.model),(t=l(d)).widthNeeded!==o&&i.push(t),t=f(t)}while(t.widthNeeded!==o&&t.widthNeeded>window.innerWidth);C(i)},I=w("(max-width: ".concat(y.widthNeeded,"px)"));Object(o.useEffect)((function(){if(I)switch(console.log("Too Narrow "+y.widthNeeded),M){case"X":N({height:!1,width:!0});break;case"Y":console.log("Y STACK"),A(s.DockLocation.BOTTOM);break;case"Z":A(s.DockLocation.CENTER),N({height:!1,width:!1})}else"X"===M&&N({height:!1,width:!1})}),[I]);var L=n.length>1?n[n.length-2].widthNeeded:9999999999,P=w("(min-width: ".concat(L,"px"));Object(o.useEffect)((function(){P&&(function(e,t){var n,o=[];console.log("migrating model"),console.log(e),console.log(t),t.model.visitNodes((function(t){t.getType()===s.TabNode.TYPE?e.model.getNodeById(t.getId())||o.push(s.Actions.deleteTab(t.getId())):t.getType()===s.TabSetNode.TYPE&&(n=t)})),e.model.visitNodes((function(e){if(e.getType()===s.TabNode.TYPE&&!t.model.getNodeById(e.getId())){var i=e.getParent();i.getType()===s.TabSetNode.TYPE&&t.model.getNodeById(i.getId())?o.push(s.Actions.addNode(e.toJson(),i.getId(),s.DockLocation.CENTER,-1,!1)):n?o.push(s.Actions.addNode(e.toJson(),n.getId(),s.DockLocation.CENTER,-1,!1)):o.push(s.Actions.addNode(e.toJson(),t.model.getRoot().getId(),s.DockLocation.RIGHT,-1,!1))}})),o.forEach((function(e){t.model.doAction(e)}))}(y,n[n.length-2]),function(){var e=n.slice(0,-1);i(e)}())}),[P]);var k=w("(max-height: ".concat(y.heightNeeded,"px)"));Object(o.useEffect)((function(){y&&N(k?{height:!0,width:b.width}:{height:!1,width:b.width})}),[k]);var R={height:b.height?y.heightNeeded+"px":"100%",width:b.width?y.widthNeeded+"px":"100%"};return Object(O.jsxs)("div",{className:"outer",style:R,children:["      ",Object(O.jsx)("span",{children:" Number of Panels:"}),Object(O.jsxs)("select",{value:h,onChange:function(e){console.log("loading ... "),g(parseInt(e.target.value)),C([j(s.DockLocation.CENTER,parseInt(e.target.value))])},children:[Object(O.jsx)("option",{value:"1",children:"1"}),Object(O.jsx)("option",{value:"2",children:"2"}),Object(O.jsx)("option",{value:"3",children:"3"}),Object(O.jsx)("option",{value:"4",children:"4"}),Object(O.jsx)("option",{value:"5",children:"5"})]}),Object(O.jsx)("div",{className:"inner",children:y&&Object(O.jsx)(s.Layout,{ref:E,onAction:function(e){return setTimeout((function(){n[n.length-1]=l(y.model,!0)}),100),e},onModelChange:function(e){n[n.length-1]=l(y.model,!1)},model:y.model,factory:function(e){if("text"===e.getComponent())return Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:e.getConfig().text}})}})})]})};a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("container"))}},[[56,1,2]]]);
//# sourceMappingURL=main.b5e016df.chunk.js.map